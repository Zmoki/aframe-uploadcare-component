!function(e){function o(t){if(a[t])return a[t].exports;var r=a[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}var a={};return o.m=e,o.c=a,o.p="",o(0)}([function(e,o){function a(e){var o=document.createElement("script");o.src=e,o.charset="utf-8",o.setAttribute("data-aframe-injected","uploadcare-component"),document.head.appendChild(o)}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerSystem("uploadcare",{schema:{publicKey:{default:""},debug:{default:!1}},multiple:!1,init:function(){window.UPLOADCARE_PUBLIC_KEY=this.data.publicKey,a("https://ucarecdn.com/widget/2.10.0/uploadcare/uploadcare.full.min.js")},upload:function(e,o){switch(o){case"application/json":e=[JSON.stringify(e)];break;default:o="application/octet-library"}var a=e instanceof Blob?e:new Blob(e,{type:o}),t=uploadcare.fileFrom("object",a),r=this.sceneEl,n=this;r.emit("uploadcare-upload-started"),t.done(function(e){n.data.debug&&console.info("Uploaded link:",e),r.emit("uploadcare-upload-completed",{url:e.cdnUrl,fileInfo:e})}).fail(function(e,o){n.data.debug&&console.error("Uploaded fail:",e,o),r.emit("uploadcare-upload-error",{errorInfo:e,fileInfo:o})}).progress(function(e){n.data.debug&&console.info("Upload progress:",e),r.emit("uploadcare-upload-progress",{progress:e.progress,uploadInfo:e})})},download:function(e,o,a){var t="https://ucarecdn.com/",r=new THREE.XHRLoader;r.crossOrigin="anonymous",a===!0&&r.setResponseType("arraybuffer");var n=this.sceneEl,d=e.indexOf("http")!==-1?e:t+e;r.load(d,function(e){var t=a===!0?{content:e,isBinary:!0}:{content:JSON.parse(e),isBinary:!1};o&&o(t),n.emit("uploadcare-download-completed",t)})}})}]);